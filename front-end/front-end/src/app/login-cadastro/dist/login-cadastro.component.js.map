{"version":3,"sources":["login-cadastro.component.ts"],"names":[],"mappings":"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","file":"login-cadastro.component.js","sourcesContent":["import { Usuario } from './../models/Usuario';\r\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { ConsumoService } from '../service/usuario.service';\r\nimport { Router } from '@angular/router';\r\nimport { UserLogin } from '../models/UserLogin';\r\nimport { environment } from 'src/environments/environment.prod';\r\nimport { invalid } from '@angular/compiler/src/render3/view/util';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login-cadastro',\r\n  templateUrl: './login-cadastro.component.html',\r\n  styleUrls: ['./login-cadastro.component.css']\r\n})\r\nexport class LoginCadastroComponent implements OnInit {\r\n\r\n  usuario: Usuario = new Usuario\r\n  confirmarSenha: string\r\n  Dadosliberados: string\r\n  userLogin: UserLogin = new UserLogin()\r\n\r\n  nome = window.document.getElementById('nome')\r\n\r\n  @ViewChild(\"invalid-user\") element: ElementRef\r\n\r\n  constructor(\r\n    private consumoService: ConsumoService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    window.scroll(0, 0)\r\n  }\r\n  login() {\r\n    this.consumoService.login(this.userLogin).subscribe((resp: UserLogin) => {\r\n      this.userLogin = resp\r\n      environment.token = this.userLogin.token\r\n      environment.nome = this.userLogin.nome\r\n      environment.id = this.userLogin.id\r\n      environment.email = this.userLogin.email\r\n\r\n      console.log(environment.token)\r\n\r\n      console.log(environment.nome)\r\n\r\n      console.log(environment.id)\r\n\r\n      console.log(environment.email)\r\n\r\n\r\n\r\n      if (environment.token == null) {\r\n\r\n        alert('Usuario inválido')\r\n\r\n      } else {\r\n        this.router.navigate(['/profile'])\r\n      }\r\n\r\n    }, erro => {\r\n      if (erro.status == 500) {\r\n        alert('E-mail ou senha estão incorretos')\r\n      }\r\n    }\r\n    )\r\n  }\r\n\r\n  cadastrar() {\r\n    this.usuario = this.usuario\r\n    if (this.usuario.senha != this.confirmarSenha) {\r\n      alert('A senhas estão divergentes.')\r\n    }\r\n    else {\r\n      this.consumoService.cadastrar(this.usuario).subscribe((resp: Usuario) => {\r\n        this.usuario = resp\r\n        this.router.navigate(['/inicio'])\r\n        alert('Seu cadastro foi efetudado com sucesso!')\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  confirmSenha(event: any) {\r\n    this.confirmarSenha = event.target.value\r\n  }\r\n\r\n  LiberaDados(event: any) {\r\n    this.Dadosliberados = event.target.value\r\n  }\r\n\r\n  confirmEmail(event: any){\r\n    this.confirmEmail=event.target.value\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}